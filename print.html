<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>GitNotebooks Docs</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="getting_started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="reviewing_a_notebook.html"><strong aria-hidden="true">2.</strong> Reviewing a Notebooks</a></li><li class="chapter-item expanded "><a href="security.html"><strong aria-hidden="true">3.</strong> Security</a></li><li class="chapter-item expanded "><a href="settings.html"><strong aria-hidden="true">4.</strong> Settings</a></li><li class="chapter-item expanded "><a href="self_hosted.html"><strong aria-hidden="true">5.</strong> Self Hosted</a></li><li class="chapter-item expanded "><a href="enterprise_security.html"><strong aria-hidden="true">6.</strong> Enterprise Security</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">GitNotebooks Docs</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/GitNotebooks/GitNotebooks" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>Welcome to GitNotebooks! Before diving into the installation process, we recommend checking out our demo pull request. This allows you to try GitNotebooks without setting up a repository or installing the app.
ðŸ‘‰ <a href="https://app.gitnotebooks.com/GitNotebooks/demo/pull/1" target="_blank">Try our demo pull request</a></p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<p>Getting GitNotebooks up and running is quick and easy. Follow these simple steps:</p>
<ol>
<li>Sign in to the <a href="https://app.gitnotebooks.com/dashboard">GitNotebooks dashboard</a></li>
<li>Click <code>Add Repo</code></li>
<li>Select the repositories</li>
</ol>
<div style="display: flex; justify-content: space-between; align-items: center;">
  <div style="text-align: center; width: 23%;">
    <p>Sign in</p>
    <img src="./images/getting-started/sign-in-button.png" alt="Sign in to GitNotebooks" style="width: 100%;">
  </div>
  <div style="text-align: center; width: 23%;">
    <p>Add Repo</p>
    <img src="./images/getting-started/add-repos.png" alt="Add Repo to GitNotebooks" style="width: 100%;">
  </div>
  <div style="text-align: center; width: 23%;">
    <p>Select Repos</p>
    <img src="./images/getting-started/select-repos.png" alt="Select repositories" style="width: 100%;">
  </div>
  <div style="text-align: center; width: 23%;">
    <p>Start Reviewing</p>
    <img src="./images/getting-started/repo-list.png" alt="Start reviewing notebooks" style="width: 100%;">
  </div>
</div>
<p>The entire process takes about a minute!</p>
<div class="warning">
<p>Can't install GitNotebooks in your GitHub Organization?</p>
<p>You may not have the required permissions to install GitNotebooks. You can ask your
GitHub Organization admin to install GitNotebooks or <a href="https://share.hsforms.com/1KcFTS0dHRPqyMli5Dr8kiwryqe1">request a self-hosted version</a>.</p>
</div>
<h2 id="review-a-notebook"><a class="header" href="#review-a-notebook">Review a Notebook</a></h2>
<p>Now that you've installed GitNotebooks, you're ready to start reviewing notebooks. Our <a href="./reviewing_a_notebook.html">Reviewing a Notebook</a> guide will walk you through the process, showing you how to open pull requests, and make comments on both code and markdown.</p>
<h2 id="questions-or-feedback"><a class="header" href="#questions-or-feedback">Questions or Feedback</a></h2>
<p>We're here to help! If you need support or have any questions, feel free to reach out to us at <code>support@gitnotebooks.com</code>. You can also post an issue to our <a href="https://github.com/GitNotebooks/GitNotebooks/issues">public repository</a> for feature requests or bug reports.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reviewing-a-notebook"><a class="header" href="#reviewing-a-notebook">Reviewing a Notebook</a></h1>
<p>This guide will walk you through the process of reviewing Jupyter notebooks using GitNotebooks. We'll cover how to add comments, understand diffs, and submit reviews.</p>
<h2 id="viewing-a-notebook-change"><a class="header" href="#viewing-a-notebook-change">Viewing a Notebook Change</a></h2>
<p>When you open a new pull request that includes changes to Jupyter notebooks, GitNotebooks automatically adds a comment to your pull request. This comment contains a link inviting you to review the notebooks using GitNotebooks.</p>
<img src="./images/review/review-notebook-link.png" alt="Start a review image" width="700px" />
<h2 id="adding-and-viewing-comments"><a class="header" href="#adding-and-viewing-comments">Adding and Viewing Comments</a></h2>
<p>Once you have opened up a review in GitNotebooks, you can add comments to both code and markdown cells.</p>
<h3 id="code-comments"><a class="header" href="#code-comments">Code Comments</a></h3>
<p>You can add single-line or multi-line comments on either the left or right side of the code.</p>
<div style="display: flex; justify-content: space-between;">
  <div style="width: 48%;">
    <h4 id="single-line-comment"><a class="header" href="#single-line-comment">Single-line Comment</a></h4>
    <img src="./images/review/code-comment.png" alt="Image showing single-line code comment" width="100%">
  </div>
  <div style="width: 48%;">
    <h4 id="multi-line-comment"><a class="header" href="#multi-line-comment">Multi-line Comment</a></h4>
    <img src="./images/review/mulit-line-code-comment.png" alt="Image showing multi-line code comment" width="100%">
  </div>
</div>
<h3 id="markdown-comments"><a class="header" href="#markdown-comments">Markdown Comments</a></h3>
<p>To comment on markdown, simply click directly on the markdown text. Each markdown comment is associated with a specific line in the markdown, ensuring your feedback is always in context.</p>
<p>When a comment is added to markdown, a blue underline will appear. To view the comment and respond, click the markdown or the avatar to the right.</p>
<p>You can view markdown diffs in both rendered and raw formats, giving you the option to review the content in the way that works best for you. To learn more see our <a href="./settings.html">settings docs</a></p>
<div style="display: flex; justify-content: space-between;">
  <div style="width: 48%;">
    <h4 id="adding-a-markdown-comment"><a class="header" href="#adding-a-markdown-comment">Adding a markdown comment</a></h4>
    <img src="./images/review/add-markdown-comment.png" alt="Image demonstrating how to add comments to markdown cells" width="100%">
  </div>
  <div style="width: 48%;">
    <h4 id="replying-to-a-markdown-comment"><a class="header" href="#replying-to-a-markdown-comment">Replying to a markdown comment</a></h4>
    <img src="./images/review/view-markdown-comment.png" alt="Image demonstrating viewing a markdown comment" width="100%">
  </div>
</div>
<h3 id="notes-about-comments"><a class="header" href="#notes-about-comments">Notes About Comments</a></h3>
<p>Comments will stay in place as new commits are pushed to the branch.</p>
<p>Comments are automatically marked as outdated if a new commit changes the specific line since the comment was added.</p>
<img src="./images/review/outdated.png" alt="Image showing an outdated review comment" width="700px">
<h2 id="viewing-diffs"><a class="header" href="#viewing-diffs">Viewing Diffs</a></h2>
<p>GitNotebooks supports a variety of diffs to make your review process comprehensive:</p>
<ul>
<li>Rendered and raw markdown diffs</li>
<li>Code diffs</li>
<li>Dataframe output diffs</li>
<li>Text output diffs</li>
<li>Chart and image change detection</li>
</ul>
<h3 id="code-diffs"><a class="header" href="#code-diffs">Code Diffs</a></h3>
<p>Code diffs are rendered similarly to GitHub.</p>
<p>Context around the changed line is collapsed. Click the blue line to expand the diff context.</p>
<img src="./images/review/diff-context.png" alt="Image showing the code diff in a notebook with the ability to expand above and below" width="700px">
<h3 id="markdown-diffs"><a class="header" href="#markdown-diffs">Markdown Diffs</a></h3>
<p>Markdown diffs are presented in both rendered and raw formats, allowing you to see both the visual changes and the underlying markup modifications.</p>
<div style="display: flex; justify-content: space-between;">
  <div style="width: 48%;">
    <h4 id="rendered-markdown-diff"><a class="header" href="#rendered-markdown-diff">Rendered Markdown Diff</a></h4>
    <img src="./images/review/rendered-markdown-diff.png" alt="Image showing rendered markdown diff in a notebook" width="100%">
  </div>
  <div style="width: 48%;">
    <h4 id="raw-markdown-diff"><a class="header" href="#raw-markdown-diff">Raw Markdown Diff</a></h4>
    <img src="./images/review/raw-markdown-diff.png" alt="Image showing raw markdown diff in a notebook" width="100%">
  </div>
</div>
<h3 id="output-diffs"><a class="header" href="#output-diffs">Output Diffs</a></h3>
<p>Output diffs are useful when reviewing changes in notebook results. This includes changes in dataframes, text outputs, charts, and images.</p>
<div style="display: flex; justify-content: space-between;">
  <div style="width: 32%;">
    <p style="font-size: 0.9em;">Dataframe Diff</p>
    <img src="./images/review/dataframe-diffs.png" alt="Image showing the diff of a dataframe" width="100%">
  </div>
  <div style="width: 32%;">
    <p style="font-size: 0.9em;">Text Output Diff</p>
    <img src="./images/review/raw-output-diff.png" alt="Image showing the diff of text" width="100%">
  </div>
  <div style="width: 32%;">
    <p style="font-size: 0.9em;">Chart Diff</p>
    <img src="./images/review/chart-diff.png" alt="Image showing the diff of a chart" width="100%">
  </div>
</div>
<h2 id="submitting-a-pull-request-review"><a class="header" href="#submitting-a-pull-request-review">Submitting a Pull Request Review</a></h2>
<p>To submit your review in GitNotebooks:</p>
<ol>
<li>Click the "Start a review" button on any comment you make.</li>
<li>Add comments throughout the notebook as needed.</li>
<li>When ready to submit your review, click "Finish your review".</li>
<li>Choose to approve, reject, or leave a neutral review, similar to GitHub's review process.</li>
</ol>
<p>After submitting your review, all your comments will be posted to GitHub automatically.</p>
<div style="display: flex; justify-content: space-between;">
  <div style="width: 48%;">
    <p>Step 1: Start a review</p>
    <img src="./images/review/review-first-comment.png" alt="Image showing how to start a review in GitNotebooks" width="100%" />
  </div>
  <div style="width: 48%;">
    <p>Step 2: Add comments</p>
    <img src="./images/review/review-add-comment.png" alt="Image showing how to add comments during a review in GitNotebooks" width="100%" />
  </div>
</div>
<div style="margin-top: 20px;">
  <p>Step 3: Submit the review</p>
  <img src="./images/review/review-submit.png" alt="Image showing how to submit a completed review in GitNotebooks" width="100%" />
</div>
<h2 id="github-synchronization"><a class="header" href="#github-synchronization">GitHub Synchronization</a></h2>
<ul>
<li>Single comments and posted review comments appear in GitHub.</li>
<li>Responses to comments made within GitHub are visible in GitNotebooks.</li>
<li>Conversation threads can be resolved in GitNotebooks, which stays in sync with conversation resolution in GitHub.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="security"><a class="header" href="#security">Security</a></h1>
<p>At GitNotebooks, we take the security of your data and code seriously. This document outlines our security practices and explains the permissions we request.</p>
<h2 id="code-privacy"><a class="header" href="#code-privacy">Code Privacy</a></h2>
<p><strong>Your code never touches our servers.</strong></p>
<p>Here's how it works:</p>
<ul>
<li>All files are fetched directly from GitHub to your browser</li>
<li>Diffs are performed client-side in your browser</li>
<li>We do not fetch, store, or process your code on our servers</li>
</ul>
<h2 id="github-permissions"><a class="header" href="#github-permissions">GitHub Permissions</a></h2>
<p>We request certain GitHub permissions to provide GitNotebooks functionality. Here's why we need each permission:</p>
<ul>
<li>
<p>Repository (Read)</p>
<ul>
<li>Generate access tokens that allow your browser to fetch pull request files directly from GitHub</li>
<li>Enable viewing and diffing of code within GitNotebooks</li>
</ul>
</li>
<li>
<p>Repository (Write)</p>
<ul>
<li>Enable resolving conversations in pull requests</li>
<li>We never write to your repositories for any other purpose</li>
</ul>
<p><strong>Note:</strong> We're actively tracking <a href="https://github.com/orgs/community/discussions/12961">GitHub's progress</a> on creating a separate, more limited permission for this functionality.</p>
</li>
<li>
<p>Pull Request (Write)</p>
<ul>
<li>Post comments on pull requests</li>
<li>Submit reviews</li>
</ul>
</li>
<li>
<p>Metadata (Read)</p>
<ul>
<li>Fetch pull request information (e.g., who opened it, current status)</li>
<li>Display relevant context within GitNotebooks</li>
</ul>
</li>
</ul>
<h2 id="questions-or-concerns"><a class="header" href="#questions-or-concerns">Questions or Concerns?</a></h2>
<p>If you have any questions about our security practices or the permissions we request, please don't hesitate to contact us at <code>support@gitnotebooks.com</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="settings"><a class="header" href="#settings">Settings</a></h1>
<h2 id="theme-selection"><a class="header" href="#theme-selection">Theme Selection</a></h2>
<p>GitNotebooks has a dark mode.
<img src="./images/settings/dark-theme.png" alt="GitNotebooks in dark theme" width="700px"></p>
<p>To change the theme:</p>
<ol>
<li>Sign in</li>
<li>Select your user avatar on the top right</li>
<li>Choose a theme</li>
</ol>
<img src="./images/settings/theme-selection.png" alt="Theme selection in GitNotebooks" width="400px" />
<h2 id="notebook-settings"><a class="header" href="#notebook-settings">Notebook Settings</a></h2>
<p>To access notebook diff settings open the gear icon to the right of the pull request title.</p>
<img src="./images/settings/settings.png" alt="Settings view for a notebook" width="400px" />
<p>These settings will apply to all notebook diffs.</p>
<h3 id="hide-outputs"><a class="header" href="#hide-outputs">Hide Outputs</a></h3>
<p>Enabling <code>Hide Outputs</code> will collapse all cell outputs.</p>
<h3 id="collapse-notebooks"><a class="header" href="#collapse-notebooks">Collapse Notebooks</a></h3>
<p>Enabling <code>Colapse Notebooks</code> will collapse the notebooks by default. This can be helpful if you have a lot of changed notebooks to review and you'd rather see them one at a time.</p>
<h3 id="raw-markdown"><a class="header" href="#raw-markdown">Raw Markdown</a></h3>
<p>Enabling <code>Raw Markdown</code> will show the markdown cells in their unrendered format.</p>
<p>Note that markdown comments will work for both rendered and unrendered markdown comments. If a comment is made to markdown
in a rendered format they will appear in the unrendered view and vice versa.</p>
<h3 id="show-entire-notebooks"><a class="header" href="#show-entire-notebooks">Show Entire Notebooks</a></h3>
<p>Enabling <code>Show Entire Notebook</code> will render the entire notebook, not just the changed cells. By default GitNotebooks will show
only the cells that have changed with a single cell above and below for context. The change this setting more precisely, see <code>Cells to show around changes</code></p>
<h3 id="cells-to-show-around-changes"><a class="header" href="#cells-to-show-around-changes">Cells to show around changes</a></h3>
<p>You can control how many unchanged cells appear above and below a changed cells. If you only want to see changed cells without their surrounding context,
set <code>Cells to show around changes</code> to <code>0</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="self-hosted"><a class="header" href="#self-hosted">Self Hosted</a></h1>
<p><em>This tutorial shows how to deploy GitNotebooks Self-Hosted</em></p>
<h3 id="before-we-start-the-tutorial"><a class="header" href="#before-we-start-the-tutorial">Before we start the tutorial</a></h3>
<p>The tutorial is divided into several sections:</p>
<ul>
<li><a href="self_hosted.html#choosing-an-endpoint">Choosing an Endpoint</a></li>
<li><a href="self_hosted.html#creating-a-github-app">Creating a GitHub App</a></li>
<li><a href="self_hosted.html#creating-a-database">Creating a Database</a></li>
<li><a href="self_hosted.html#reviewing-environment-variables">Reviewing the Environment Variables</a></li>
<li><a href="self_hosted.html#deploy-container">Deploy container</a></li>
</ul>
<p>The goal is to create a set of environment variables that look like this:</p>
<pre><code class="language-bash">BASE_URL=https://gitnotebooks.mycompany.com
GITHUB_BASE_URL=https://github.mycompany.com
GITHUB_APP_IDENTIFIER=499732
GITHUB_CLIENT_SECRET=0f2e9190d598624847d2b259b5b567cf981d5072
GITHUB_PRIVATE_KEY=LS0tLS12dJQkFNB2s3emt2dBS0nRzbXQzVCRUdJUUVBc2pzNFRSb0ErUVdWdMbFZUeklyQmtkYkZFURSBTXZiZnlqQW9FHU0EgUFJJVk1YWZWUGxaV1NOKUTiBSbNi9HOUTV0YLRVktLS0tLQpCg==
GITHUB_WEBHOOK_SECRET=d1ae70aaf90bd909ce44927350d9aba8c1136d34
GITHUB_APP_URL=https://github.mycompany.com/apps/gitnotebooks-self-hosted
GITHUB_CLIENT_ID=Iv1.fed2b15afabbc1a6
DATABASE_URL=postgresql://postgres:somepassword@git-notebooks.database.url.rds.amazonaws.com:5432/postgres
AES_ENCRYPTION_KEY=X9CSf8y7Pw9dYSJNUwV4L7jUqH42/Mb27pHBRTUWceI=
ENTERPRISE=true
LICENSE_KEY=eg7d1aba4ddb88f2ec16711d96a25d0c03
</code></pre>
<p>In this tutorial, we'll denote environment variables with this notation: <code>SOME_ENV_VAR</code></p>
<p>Once the environment variables are set correctly, you can run the GitNotebooks container. Here's an example using Docker:</p>
<pre><code class="language-bash">docker run -p 80:3000 --env-file .env gitnotebooks/self-hosted:1.0.0
</code></pre>
<h3 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h3>
<p>We'll assume that you have enough permission to create a new GitHub app and a Postgres database. We'll also assume that you have access to the private GitNotebooks container image.</p>
<p>If you have not yet received the GitNotebooks container image, you can do so by filling out this form: <a href="https://share.hsforms.com/1KcFTS0dHRPqyMli5Dr8kiwryqe1">Self-hosted signup</a></p>
<h2 id="choosing-an-endpoint"><a class="header" href="#choosing-an-endpoint">Choosing an Endpoint</a></h2>
<p>The GitNotebooks web application needs to be accessible via a URL. This URL will be referred to as the <code>BASE_URL</code> throughout the setup process. You'll need to decide on this <code>BASE_URL</code> before proceeding.</p>
<p>The <code>BASE_URL</code> will be used as an environment variable in your configuration. For example, it might look like:</p>
<pre><code class="language-bash">BASE_URL="https://gitnotebooks.yourcompanydomain.com"
</code></pre>
<h2 id="creating-a-github-app"><a class="header" href="#creating-a-github-app">Creating a GitHub App</a></h2>
<p>First, navigate to your GitHub Organization &gt; Settings &gt; Developer Settings &gt; GitHub Apps &gt; New GitHub App. If you need help finding this button, the GitHub docs can help: <a href="https://docs.github.com/en/enterprise-cloud@latest/apps/creating-github-apps/registering-a-github-app/registering-a-github-app">Registering a GitHub App</a>
Hereâ€™s how to fill out the form:</p>
<img alt="register GitNotebooks GitHub App 1" src="images/gh-app-1.png" width="500px" />
<img alt="register GitNotebooks GitHub App 2" src="images/gh-app-2.png" width="500px" />
<img alt="register GitNotebooks GitHub App 3" src="images/gh-app-3.png" width="500px" />
<img alt="register GitNotebooks GitHub App 4" src="images/gh-app-4.png" width="500px" />
<img alt="register GitNotebooks GitHub App 5" src="images/gh-app-5.png" width="500px" />
<p>You should now have a GitHub App with the following settings:</p>
<ul>
<li>GitHub App Name: <code>GitNotebooks</code></li>
<li>Homepage URL: <code>https://gitnotebook.com</code></li>
<li>Callback URL: <code>https://gitnotebooks.your-domain.com/api/auth/callback/github</code></li>
<li>Post installation: <code>https://gitnotebooks.your-domain.com/dashboard</code></li>
<li>Webhook URL: <code>https://gitnotebooks.your-domain.com/api/event_handler</code></li>
<li>Webhook secret: A custom webhook seceret</li>
<li>Permissions
<ul>
<li>Contents: <code>Read and write</code></li>
<li>Pull requests: <code>Read and write</code></li>
<li>Email address: <code>Read only</code></li>
</ul>
</li>
<li>Subscribe to events:
<ul>
<li>Pull request</li>
</ul>
</li>
</ul>
<h3 id="after-creating-the-github-app"><a class="header" href="#after-creating-the-github-app">After creating the GitHub App</a></h3>
<p>We'll need to collect some information for GitNotebooks to identify itself as the GitHub App.</p>
<p><strong>Generate a new client secret <code>GITHUB_CLIENT_SECRET</code></strong></p>
<img alt="generate client secret" src="images/gh-app-client-secrets.png" width="300px" />
<p><strong>Generate a private key</strong>
We will download the key, then convert it to base64.</p>
<img alt="download private key for GitHub App" src="images/gh-app-private-key.png" width="300px" />
<p>Convert the key to base64.</p>
<pre><code class="language-bash">cat path/to/your/key.pem | base64
</code></pre>
<p><strong>Note the url of the public page <code>GITHUB_APP_URL</code></strong></p>
<p>This URL is used to direct users to add repos to the GitHub app installation.</p>
<img src="images/public-url.png" alt="public url link for GitHub App" width="200"/>
<h3 id="making-it-pretty-optional"><a class="header" href="#making-it-pretty-optional">Making it pretty (optional)</a></h3>
<p>Finally, you can upload a <a href="images/logo.png">logo</a> which is used as the app's avatar.</p>
<h2 id="creating-a-database"><a class="header" href="#creating-a-database">Creating a database</a></h2>
<p>Next, we need a Postgres database with the following specifications:</p>
<ul>
<li>1GB RAM</li>
<li>20GiB storage</li>
<li>PostgreSQL 9.4 or higher</li>
<li>Username/Password authentication</li>
</ul>
<p><em>We recommend that your database not be accessible to the internet, and restrict inbound connections to the web servers hosting the container over TCP port 5432.</em></p>
<p>Note the connection string, which is the <code>DATABASE_URL</code></p>
<pre><code class="language-bash">DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DATABASE"
</code></pre>
<h2 id="reviewing-environment-variables"><a class="header" href="#reviewing-environment-variables">Reviewing the Environment Variables</a></h2>
<p>We should have all the environment variables we need:</p>
<pre><code class="language-bash"># From `Choosing and Endpoint`
BASE_URL=https://gitnotebooks.mycompany.com

# From `Creating a GitHub App`
GITHUB_APP_IDENTIFIER=499732
GITHUB_CLIENT_ID=Iv1.fed2b15afabbc1a6
GITHUB_CLIENT_SECRET=0f2e9190d598624847d2b259b5b567cf981d5072
GITHUB_PRIVATE_KEY=LS0tLS12dJQkFNB2s3emt2dBS0nRzbXQzVCRUdJUUVBc2pzNFRSb0ErUVdWdMbFZUeklyQmtkYkZFURSBTXZiZnlqQW9FHU0EgUFJJVk1YWZWUGxaV1NOKUTiBSbNi9HOUTV0YLRVktLS0tLQpCg==
GITHUB_WEBHOOK_SECRET=d1ae70aaf90bd909ce44927350d9aba8c1136d34
GITHUB_APP_URL=https://github.mycompany.com/apps/gitnotebooks-self-hosted

# Base URL of your GitHub instance, if you are not self-hosting GitHub, simply use https://github.com
GITHUB_BASE_URL=https://github.com

# From `Creating a database`
DATABASE_URL=postgresql://postgres:somepassword@git-notebooks.database.url.rds.amazonaws.com:5432/postgres

# Generate this value using `openssl rand -base64 32`
AES_ENCRYPTION_KEY=X9CSf8y7Pw9dYSJNUwV4L7jUqH42/Mb27pHBRTUWceI=

# License keys are provided by GitNotebooks
LICENSE_KEY=eg7d1aba4ddb88f2ec16711d96a25d0c03

ENTERPRISE=true
</code></pre>
<p>You are now ready to deploy GitNotebooks Self-Hosted.</p>
<h2 id="deploy-container"><a class="header" href="#deploy-container">Deploying the GitNotebooks Container</a></h2>
<p>The final step is to deploy the GitNotebooks container image with the environment variables we've prepared. Here are some key points to consider:</p>
<ul>
<li>The container image serves traffic over port 3000, which should be mapped to port 80 on the host.</li>
<li>A health check endpoint is available at <code>/api/health</code>. This endpoint verifies the web application's connection to the database and confirms that the environment variables are properly set.</li>
</ul>
<p>To deploy the container, use your preferred container orchestration platform (e.g., ECS, Kubernetes) and ensure that the necessary port mapping and environment variables are configured.</p>
<h2 id="security-recommendations"><a class="header" href="#security-recommendations">Security Recommendations</a></h2>
<p>While GitNotebooks Self-Hosted only makes network requests to GitHub, we recommend implementing the following security measures:</p>
<ol>
<li>
<p>Web application servers:</p>
<ul>
<li>Store container environment variables as secrets (e.g., using AWS Secrets Manager)</li>
<li>Restrict outbound network traffic to GitHub and the database</li>
<li>Limit inbound traffic to your corporate VPN</li>
</ul>
</li>
<li>
<p>Database:</p>
<ul>
<li>Implement encryption at rest</li>
<li>Require SSL connections from the web server</li>
<li>Restrict inbound connections to web servers via TCP port 5432</li>
<li>Disable all outbound network requests</li>
</ul>
</li>
<li>
<p>Application load balancer:</p>
<ul>
<li>Limit inbound requests to your corporate VPN and GitHub Webhooks</li>
<li>Restrict outbound requests to the web application</li>
</ul>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gitnotebooks-enterprise-security"><a class="header" href="#gitnotebooks-enterprise-security">GitNotebooks Enterprise Security</a></h1>
<p>This page offers an overview of GitNotebooks security-related features. Note that while there are many ways to configure GitNotebooks we'll only discuss the most secure configuration here.</p>
<p>Everything on this page applies to both self-hosted and managed Enterprise instances. A managed instance is just a self-hosted instance that we run for you (outside your VPN), configured as follows:</p>
<ul>
<li>GitNotebooks web application servers and image storage run in AWS.</li>
<li>All secrets are stored in AWS Secret Manager, with audit trails enabled.</li>
<li>All data is stored in RDS with TLS communication required, data encypted at rest, not internet-facing</li>
</ul>
<h2 id="architecture"><a class="header" href="#architecture">Architecture</a></h2>
<p>This is the recommended architecture for a self-hosted deployment, which is also used for the managed Enterprise instances. The diagram summarizes the various components and how they communicate:</p>
<img src="./images/architecture.png" alt="Architecture diagram" width="700px" />
<p>If using GitHub Enterprise Server, all network traffic remains within your corporate VPN.</p>
<p>Note: While we replicate the deployment across two Availability Zones for Managed Enterprise accounts, this is not strictly necessary for Self-Hosted.</p>
<h2 id="network-security"><a class="header" href="#network-security">Network Security</a></h2>
<p>This is the recommended network security configuration for a self-hosted deployment, which is also used for the managed Enterprise instances. The table summarizes the inbound/outbound rules for each components as well as their internet configuration. In the case of Self-Hosted with GitHub Server, the application load balancer should not be internet facing, and only accept requests within the corporate VPN.</p>
<div class="table-wrapper"><table><thead><tr><th>Service</th><th>Inbound</th><th>Outbound</th><th>Internet-Facing</th><th>Internet Access</th></tr></thead><tbody>
<tr><td>Application Load Balancer</td><td>TCP:80 (redirect to 443) <br> TCP:443 GitHub and Corporate VPN</td><td>TCP:3000 Web application security group</td><td>Yes</td><td>N/A</td></tr>
<tr><td>Web application instance</td><td>TCP:3000 ALB security group</td><td>TCP:443 GitHub <br> TCP:443 Bugsnag</td><td>No</td><td>Yes</td></tr>
<tr><td>RDS Postgres</td><td>TCP:5432 Web application security group</td><td>None</td><td>No</td><td>No</td></tr>
</tbody></table>
</div>
<h2 id="data-encryption"><a class="header" href="#data-encryption">Data Encryption</a></h2>
<p><strong>Data Encyption At Rest</strong></p>
<p>There are two pieces of sensitive data stored by the application. Both are AES encypted at rest:</p>
<ul>
<li>GitHub Auth Tokens</li>
<li>Comment Body</li>
</ul>
<p>In the case of self-hosted, the encyption key is generated by you. It's recommended that this key be stored in a secrets manager and mounted into the container image by reference.</p>
<p><strong>Data Encyption in Transit</strong></p>
<p>For Managed Enterprise accounts, the following components use TLS encyption:</p>
<ul>
<li>Application Load Balancer</li>
<li>Database</li>
<li>GitHub Enterprise</li>
</ul>
<p>It is recommended that network traffic be encrypted similarly for self-hosted deployments.</p>
<h2 id="authentication"><a class="header" href="#authentication">Authentication</a></h2>
<p>GitNotebooks relies entirely on GitHub Enterprise (GHE) for authentication. If you've configured your GHE instance to use SSO via SAML then GitNotebooks will use that too. There are no separate local user accounts to maintain within Gitnotebooks.</p>
<p>When a user signs in, GitNotebooks obtains and stores an OAuth token that lets it operatore on the user's behalf within the scopes that were granted. GitNotebooks needs the following scopes:</p>
<ul>
<li>Repo (read and write)</li>
<li>Pull requests (write)</li>
<li>Metadata (read and write)</li>
</ul>
<h2 id="authorization"><a class="header" href="#authorization">Authorization</a></h2>
<p>Authorizations in GitNotebooks are inferred from the permissions granted to users in GHE, i.e. repository read/write/admin and organization owner. There are no separate roles or authorizations maintained within GitNotebooks.</p>
<h2 id="data-flow"><a class="header" href="#data-flow">Data Flow</a></h2>
<p>The following diagrams illustrate the two primary workflows of GitNotebooks</p>
<img src="./images/login-data-flow.png" alt="Login Data Flow" width="700px" />
<img src="./images/review-data-flow.png" alt="Review Data Flow" width="700px" />
<h2 id="frequently-asked-questions"><a class="header" href="#frequently-asked-questions">Frequently Asked Questions</a></h2>
<p><strong>Does the self-hosted application send any network requests to GitNotebooks?</strong></p>
<p>Yes, as of version <code>1.1.0</code> self-hosted installations make a network request once per day to our license server to ensure that the customer has an authorized installation of GitNotebooks.</p>
<p><strong>Does GitNotebooks have access to any Self Hosted data?</strong></p>
<p>No, all data is stored within your own cloud environment. GitNotebooks does not have access to any of your data.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
